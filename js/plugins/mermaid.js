import{styleStatus}from"../state/styleStatus.js";let mermaidSelector=".mermaid",ensureOriginalCode=()=>{document.querySelectorAll(mermaidSelector).forEach(e=>{e.getAttribute("data-original-code")||e.setAttribute("data-original-code",e.innerHTML)})},resetProcessed=()=>{document.querySelectorAll(mermaidSelector).forEach(e=>{var t=e.getAttribute("data-original-code");null!==t&&(e.removeAttribute("data-processed"),e.innerHTML=t)})},getMermaidTheme=()=>{var e=(theme.plugins?.mermaid||{}).theme||{},t=e.light||"default";return styleStatus.isDark?e.dark||"dark":t};export default function initMermaid(){var e;theme.plugins?.mermaid?.enable&&window.mermaid&&(ensureOriginalCode(),resetProcessed(),e=getMermaidTheme(),mermaid.initialize({theme:e}),mermaid.init({theme:e},document.querySelectorAll(mermaidSelector)))}