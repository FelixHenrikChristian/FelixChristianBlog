let t={isNavigating:!1,navbarHeight:0},a=!1,handleScroll=()=>{var e;t.isNavigating||(e=(document.documentElement.scrollTop||document.body.scrollTop)>t.navbarHeight,document.body.classList.toggle("navbar-shrink",e))},handleSubmenuToggle=e=>{var a,t,e=e.target.closest("[navbar-data-toggle]");if(!e)return!1;let r=document.querySelector(`[data-target="${e.getAttribute("navbar-data-toggle")}"]`);return r&&(a=r.children,e=e.querySelector(".fa-chevron-right"),t=!r.classList.contains("hidden"),e&&e.classList.toggle("icon-rotated",!t),"undefined"==typeof anime?r.classList.toggle("hidden",t):t?anime({targets:a,opacity:0,translateY:-10,duration:300,easing:"easeInQuart",delay:anime.stagger(80,{start:20,direction:"reverse"}),complete:function(){r.classList.add("hidden")}}):(r.classList.remove("hidden"),anime({targets:a,opacity:[0,1],translateY:[10,0],duration:300,easing:"easeOutQuart",delay:anime.stagger(80,{start:20})}))),!0},handleDrawerClose=e=>!!e.target.closest(".navbar-container .navbar-content .logo-title")&&(document.body.classList.remove("navbar-drawer-show"),!0),handleDrawerToggle=e=>!!e.target.closest(".window-mask, .navbar-bar, .navbar-drawer .drawer-navbar-list .drawer-navbar-item, .navbar-drawer .tag-count-item")&&(document.body.classList.toggle("navbar-drawer-show"),!0),registerGlobalHandlers=e=>{a||(a=!0,e?(window.addEventListener("scroll",handleScroll,{signal:e}),document.addEventListener("click",e=>{handleSubmenuToggle(e)||handleDrawerClose(e)||handleDrawerToggle(e)},{signal:e})):(window.addEventListener("scroll",handleScroll),document.addEventListener("click",e=>{handleSubmenuToggle(e)||handleDrawerClose(e)||handleDrawerToggle(e)})))},navbarShrink={navbarDom:null,initGlobals({signal:e}={}){e?registerGlobalHandlers(e):registerGlobalHandlers()},refresh(){this.navbarDom=document.querySelector(".navbar-container"),this.navbarDom&&(t.navbarHeight=this.navbarDom.getBoundingClientRect().height,handleScroll())},setNavigating(e){(t.isNavigating=e)&&document.body.classList.remove("navbar-shrink")}};export{navbarShrink};