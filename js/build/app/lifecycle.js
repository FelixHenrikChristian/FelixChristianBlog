let o=[],e=[],n=[],t=[],i=!1,s=!1,runCallbacks=(e,o)=>{e.forEach(e=>{try{e(o)}catch(e){console.error("Lifecycle callback failed:",e)}})},fireReady=()=>{i||(i=!0,runCallbacks(o),runCallbacks(e,{initial:!0}))},initSwupHooks=o=>{!s&&o&&o.hooks&&(s=!0,o.hooks.on("page:view",o=>{runCallbacks(e,o)}),o.hooks.on("visit:start",e=>{runCallbacks(n,e)}),o.hooks.before("content:replace",e=>{runCallbacks(t,e)}))},handleSwupReady=e=>{e=window.swup||e?.detail?.swup;initSwupHooks(e)},onReady=("loading"===document.readyState?document.addEventListener("DOMContentLoaded",fireReady,{once:!0}):fireReady(),window.swup&&window.swup.hooks?initSwupHooks(window.swup):window.addEventListener("redefine:swup:ready",handleSwupReady,{once:!0}),e=>{"function"==typeof e&&(i?e():o.push(e))}),onPageView=o=>{"function"==typeof o&&(e.push(o),i)&&o({initial:!0})},onVisitStart=e=>{"function"==typeof e&&n.push(e)},onBeforeContentReplace=e=>{"function"==typeof e&&t.push(e)};export{onReady,onPageView,onVisitStart,onBeforeContentReplace};