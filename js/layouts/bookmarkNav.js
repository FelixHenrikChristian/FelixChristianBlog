let navItems=[],sections=[],didInitScroll=!1,throttle=(e,o)=>{let r=!1;return(...t)=>{r||(e(...t),r=!0,setTimeout(()=>{r=!1},o))}},setActiveNavItem=()=>{if(navItems.length&&sections.length){let r=window.scrollY+100,l=null;sections.forEach(t=>{var e=t.offsetTop,o=t.offsetHeight;r>=e&&r<e+o&&(l=t)}),navItems.forEach(t=>{t.classList.remove("bg-second-background-color"),l&&t.getAttribute("data-category")===l.getAttribute("id")&&t.classList.add("bg-second-background-color")})}},registerScrollHandler=t=>{!didInitScroll&&t&&(didInitScroll=!0,window.addEventListener("scroll",throttle(setActiveNavItem,100),{signal:t}))};export default function initBookmarkNav({signal:t}={}){navItems=Array.from(document.querySelectorAll(".bookmark-nav-item")),sections=Array.from(document.querySelectorAll("section[id]")),navItems.length&&sections.length&&(registerScrollHandler(t),setActiveNavItem())}